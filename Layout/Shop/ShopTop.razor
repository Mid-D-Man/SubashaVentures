@using SubashaVentures.Components.Shared.Buttons

<nav class="shop-top-nav">
    <div class="nav-container">
        
        @* Logo *@
        <a href="/" class="nav-logo">
            <span class="logo-icon">ğŸ‘Ÿ</span>
            <span class="logo-text">Subasha</span>
        </a>

        @* Search Bar *@
        <div class="search-container">
            <span class="search-icon">ğŸ”</span>
            <input 
                type="text" 
                class="search-input"
                placeholder="Search products..."
                value="@SearchQuery"
                @oninput="HandleSearchInput" />
        </div>

        @* Right Actions *@
        <div class="nav-actions">
            @* Cart *@
            <a href="/cart" class="nav-btn">
                <span class="btn-icon">ğŸ›’</span>
                @if (CartItemCount > 0)
                {
                    <span class="cart-badge">@CartItemCount</span>
                }
            </a>

            @* Profile *@
            <a href="/account" class="nav-btn">
                <span class="btn-icon">ğŸ‘¤</span>
            </a>
        </div>
    </div>
</nav>

@code {
    [CascadingParameter] public Pages.Shop.Shop? ShopPage { get; set; }
    [Parameter] public int CartItemCount { get; set; }
    
    private string SearchQuery { get; set; } = "";

    private void HandleSearchInput(ChangeEventArgs e)
    {
        SearchQuery = e.Value?.ToString() ?? "";
        ShopPage?.HandleSearchChange(SearchQuery);
    }
}
